## Getting Started

This chapter introduces the the main use cases for this proof of concept.

### Install TeamCity on EC2

[discrete]
#### Update installed Packages 

    sudo yum update -y
    sudo yum install -y wget git

[discrete]
#### Install Oracle JDK

[options="nowrap"]
    wget --no-cookies \
    --no-check-certificate \
    --header "Cookie: oraclelicense=accept-securebackup-cookie" \
    http://download.oracle.com/otn-pub/java/jdk/8u131-b11/d54c1d3a095b4ff2b6607d096fa80163/jdk-8u131-linux-x64.rpm
    
    sudo rpm -ivh jdk-8u131-linux-x64.rpm
    java -version

[discrete]
#### Install Maven

[options="nowrap"]
    wget http://mirror.synyx.de/apache/maven/maven-3/3.5.0/binaries/apache-maven-3.5.0-bin.tar.gz
    
    sudo mkdir /usr/local/java
    sudo tar xzf apache-maven-3.5.0-bin.tar.gz -C /usr/local/java
    sudo ln -s /usr/local/java/apache-maven-3.5.0 /usr/local/java/apache-maven
    sudo ln -s /usr/local/java/apache-maven/bin/mvn /usr/local/bin/mvn
    mvn --version 

[discrete]
#### Install TeamCity

[options="nowrap"]
    wget https://download.jetbrains.com/teamcity/TeamCity-2017.1.2.tar.gz
    sudo tar xzf TeamCity-2017.1.2.tar.gz -C /usr/local/java
    
    sudo adduser teamcity
    sudo chown -R teamcity:teamcity /usr/local/java/TeamCity

[discrete]
#### Install TeamCity Service

[options="nowrap"]
    sudo wget https://gist.githubusercontent.com/tdiesler/853b241ea7937f79d72b1d9c9addcd5a/raw/9e91cd904618232a0b3750fa48a18c2c9a53ddef/teamcity.service \
    -O /usr/lib/systemd/system/teamcity.service
    
    sudo systemctl daemon-reload
    sudo systemctl enable teamcity
    sudo systemctl start teamcity

[discrete]
#### Setup via Web UI

http://52.214.125.98:8111

[discrete]
#### Install TeamCity GitHub Plugin

Taken from https://blog.jetbrains.com/teamcity/2013/02/automatically-building-pull-requests-from-github-with-teamcity[Automatically Building Pull Requests from GitHub].

[options="nowrap"]
    wget http://teamcity.jetbrains.com/guestAuth/repository/download/bt398/lastest.lastSuccessful/teamcity.github.zip
    sudo cp teamcity.github.zip /usr//local/java/TeamCity/.BuildServer/plugins
    sudo systemctl restart teamcity
